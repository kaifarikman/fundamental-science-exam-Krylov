### **Процедуры и функции: описание и вызов**

- **Подпрограмма** — именованный фрагмент программы, предназначенный для выполнения специальной инструкцией обращения. 
    
- **Процедуры и функции** — подпрограммы, которые придают программе структуру и иногда сокращают её размер; **функция возвращает значение, процедура — нет**. 
    

  

**Описание подпрограммы:**

- **заголовок:** вид (функция/процедура), имя, число и типы параметров, способ передачи, тип результата, доп. атрибуты;
    
- **тело (блок):** описания переменных + инструкции. 
    

  

**Вызов:**

- инструкция обращения — **имя подпрограммы + набор фактических параметров**. 
    
- в заголовке заданы **формальные параметры**, память под них выделяется **только при входе в блок подпрограммы**; при вызове на место формальных подставляются **значения или ссылки фактических параметров**. 
    

---

### **Передача параметров (способы)**

- **По значению:** в формальный параметр копируется значение фактического, связь теряется (~read-only). 
    
- **По результату:** передаётся адрес фактического, создаётся локальная копия, по завершении копия записывается по адресу. 
    
- **По ссылке:** передаётся адрес фактического, подпрограмма работает напрямую с ним (экономит память). 
    
- **По имени:** передаётся правило вычисления фактического параметра; выражение вычисляется столько раз, сколько используется параметр.
    

---

### **Возвращение значений**

- **Функции имеют один явный результат**, обычно скалярный; в C результат может быть **запись**, но **не массив**. 
    
- **Структурный параметр** заменяется **ссылкой на него**, которая всегда скалярна. 
    
- Хороший тон — параметры функции использовать как константы, чтобы вычисление результата было **единственным эффектом**. 
    

---

### **Функция как параметр**

  

в C функция передаётся как **указатель на функцию** (callback), например int (\*cmp)(int,int).

---

### **Рекурсия**

- **Рекурсивная подпрограмма** — подпрограмма, которая вызывает **сама себя**, и этот вызов должен сопровождаться **условием выхода**. 
    
- При каждом рекурсивном вызове в **стеке данных** размещается новый экземпляр локальных переменных и формальных параметров; предыдущие одноимённые «экранируются». 
    
- Рекурсия обычно требует больше памяти, чем итерация (цикл), потому что хранятся данные всех предыдущих шагов. 
    
- Виды рекурсии: прямая, косвенная, линейная, каскадная, концевая (хвостовая), «удалённая». 
    

---

### **Статические объекты**

  

**static-объект** живёт **всю программу**:

- static внутри функции — виден только в этой функции, но значение сохраняется между вызовами;
    
- static на уровне файла — виден только в этом файле (внутренняя линковка).